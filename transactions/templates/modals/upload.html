<div class="modal fade" id="uploadFileModal{{ transaction.batchnbr }}-{{ transaction.entrynbr }}" tabindex="-1" aria-labelledby="uploadFileModalLabel{{ transaction.batchnbr }}-{{ transaction.entrynbr }}" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="post" enctype="multipart/form-data" action="{% url 'transactions:upload_file' transaction.batchnbr transaction.entrynbr project_name  %}" data-project-name="{{ project_name }}" id="upload-form-{{ transaction.batchnbr }}-{{ transaction.entrynbr }}">
        {% csrf_token %}
        <div class="modal-header">
          <h5 class="modal-title" id="uploadFileModalLabel{{ transaction.batchnbr }}-{{ transaction.entrynbr }}">Attach a File</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="bi bi-x-lg"></i></button>
        </div>
        <div class="modal-body">
          <label for="document-{{ transaction.batchnbr }}-{{ transaction.entrynbr }}">Upload file:</label>
          <input type="file" name="file" id="document-{{ transaction.batchnbr }}-{{ transaction.entrynbr }}" data-reference="{{ transaction.jnldtlref }}" required>
          <div id="upload-status-{{ transaction.batchnbr }}-{{ transaction.entrynbr }}"></div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="document-upload-button-{{ transaction.batchnbr }}-{{ transaction.entrynbr }}" class="btn btn-primary">Upload</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

</div>
